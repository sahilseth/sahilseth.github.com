<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>params; Simplifying Params &#8211; The Other Hypothesis</title>
<meta name="description" content="I have been using R packages to wrangle genomics data for a few years. Often we have a huge list of parameters including paths to apps, their default parameters, reference genome files and other related files. While it is possible to use R’s default options() function to manage these, often the space becomes quite cluttered.

">
<meta name="keywords" content="R, params, R packages, cran">



<!-- Twitter Cards -->
<meta name="twitter:title" content="params; Simplifying Params">
<meta name="twitter:description" content="I have been using R packages to wrangle genomics data for a few years. Often we have a huge list of parameters including paths to apps, their default parameters, reference genome files and other related files. While it is possible to use R’s default options() function to manage these, often the space becomes quite cluttered.

">
<meta name="twitter:site" content="@sethsa">
<meta name="twitter:creator" content="@sethsa">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://127.0.0.1:4000/images/">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="params; Simplifying Params">
<meta property="og:description" content="I have been using R packages to wrangle genomics data for a few years. Often we have a huge list of parameters including paths to apps, their default parameters, reference genome files and other related files. While it is possible to use R’s default options() function to manage these, often the space becomes quite cluttered.

">
<meta property="og:url" content="http://127.0.0.1:4000/2015/08/10/intro-params.html">
<meta property="og:site_name" content="The Other Hypothesis">





<link rel="canonical" href="http://127.0.0.1:4000/2015/08/10/intro-params.html">
<link href="http://127.0.0.1:4000/feed.xml" type="application/atom+xml" rel="alternate" title="The Other Hypothesis Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://127.0.0.1:4000/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://127.0.0.1:4000/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://127.0.0.1:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://127.0.0.1:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://127.0.0.1:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://127.0.0.1:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://127.0.0.1:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://127.0.0.1:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://127.0.0.1:4000/about/" >About</a></li>
		  
		    
		        
		        
		    <li><a href="https://scholar.google.com/citations?user=aXwxLwEAAAAJ" target="_blank">publications</a></li>
		  
		    
		        
		        
		    <li><a href="https://www.linkedin.com/in/sahilseth" target="_blank">LinkedIn</a></li>
		  
		    
		        
		        
		    <li><a href="http://github.com/sahilseth" target="_blank">Github</a></li>
		  
		    
		        
		    
		    <li><a href="http://127.0.0.1:4000/search/" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title animated fadeIn"><a href="http://127.0.0.1:4000/">The Other Hypothesis</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">musing about genomics, R and statistics.</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="http://127.0.0.1:4000/tags/#R" title="Pages tagged R">R</a></li><li><a href="http://127.0.0.1:4000/tags/#params" title="Pages tagged params">params</a></li><li><a href="http://127.0.0.1:4000/tags/#R packages" title="Pages tagged R packages">R packages</a></li><li><a href="http://127.0.0.1:4000/tags/#cran" title="Pages tagged cran">cran</a></li>
        </ul>
        
          <h1 class="entry-title">params; Simplifying Params</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="http://127.0.0.1:4000/images/bio-photo.jpg" class="bio-photo" alt="Sahil Seth bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Sahil Seth</span></span>
        <span class="entry-date date published"><time datetime="2015-08-10T10:27:31-05:00"><i class="fa fa-calendar-o"></i> August 10, 2015</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>I have been using R packages to wrangle genomics data for a few years. Often we have a huge list of parameters including paths to apps, their default parameters, reference genome files and other related files. While it is possible to use R’s default <code>options()</code> function to manage these, often the space becomes quite cluttered.</p>

<p>Recently, I made a using a small package <code>params</code>, which reads configuration files and loads there parameters into R. This attempts to solve a 3 things,</p>

<ol>
  <li>easy reading and loading of parameters [<code>load_opts()</code>]</li>
  <li>dynamic changing of params [<code>set_opts()</code>]</li>
  <li>fetching and pretty printing of params [<code>get_opts()</code>]</li>
</ol>

<p><strong><code>load_opts()</code></strong> can automatically recognize a few file extensions, read and load these files:</p>

<p>a. conf/tsv/tab/txt: tab delimited files<br />
b. csv: comma separated<br />
c. xlsx: microsoft excel files (handle with care)</p>

<p>For example, a <code>.conf</code> file is assumed to be tab delimited.</p>

<pre><code>conf = system.file("conf/params.conf", package = "params")
opts2 = load_opts(conf)
</code></pre>

<p>Now if we have a bunch of parameters, its always easier to seem them as a table; <code>get_opts()</code> to rescue. This uses the nifty kable function from knitr.</p>

<pre><code>get_opts()
|name          |value            |
|:-------------|:----------------|
|default_regex |(.*)             |
|my_conf_path  |~/flowr/conf     |
|my_dir        |path/to/a/folder |
|my_path       |~/flowr          |
|my_tool_exe   |/usr/bin/ls      |
|verbose       |2                |
</code></pre>

<p>To extract a specific parameter, simply use <code>get_opts("paramname")</code>.</p>

<p>Additionally, there are times where we may have a set of nested parameters; i.e. a former parameter is a part of later. This is quite useful, such that one may define the base path for all the tools, and all other paths would be relative to it (<code>}/samtools</code>, <code>}/bwa</code>, etc.).</p>

<p>Taking a simple example, lets use first and last names.</p>

<pre><code>set_opts(first = "John", last = "Doe", ## setting first and last names
    'full_name' = "} }") ## setting full name
</code></pre>

<p><strong>Automatic checking</strong></p>

<p>Additionally, values all parameters ending with <code>_exe|_path|_dir</code> are checked by <code>load_opts</code>, whether they exist or not. If they don’t exist a warning (not error) is thrown, informing user of the issue.</p>

<p>The package is already on <a href="https://cran.rstudio.com/web/packages/params/index.html">CRAN</a>, though a more recent devel version is available on <a href="https://github.com/sahilseth/params">github</a>. Also, a detailed readme and examples are available on the <a href="http://sahilseth.com/params/">staticdocs</a> website.</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2015 Sahil Seth. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="https://twitter.com/sethsa" title="Sahil Seth on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	
	
	<a href="https://linkedin.com/in/sahilseth" title="Sahil Seth on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="http://stackexchange.com/users/2875225/sahil-seth" title="Sahil Seth on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	
	
	<a href="https://github.com/sahilseth" title="Sahil Seth on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="http://127.0.0.1:4000/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://127.0.0.1:4000';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://127.0.0.1:4000/assets/js/scripts.min.js"></script>




</body>
</html>
